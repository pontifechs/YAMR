{
  "url" : "http://www.mangahere.co/mangalist/",
  "name" : "MangaHere",
  "newUrl" : "http://www.mangahere.co/latest/",
  "fetchProvider" : [
    "function fetchProvider(doc, provider) {",
    "   return doc.select('.manga_info[href]');",
    "};"
  ],
  "stubSeries" : [
    "function stubSeries(element) {",
    "   var jsSeries = new JsSeries();",
    "   jsSeries.url = element.absUrl('href');",
    "   jsSeries.name = element.ownText();",
    "   return jsSeries;",
    "};"
  ],
  "fetchSeries" : [
    "function fetchSeries(doc, series) {",
    "   var thumb = doc.select('.img[src]').first();",
    "   series.thumbnailUrl = thumb.absUrl('src');",
    "",
    "   var summary = doc.select('#show').first();",
    "   series.description = summary.ownText();",
    "",
    "   var propertyLabels = doc.select('.detail_topText label');",
    "   for each(var property in propertyLabels.toArray()) {",
    "       var propTitle = property.ownText();",
    "       var propValue = property.parent().ownText();",
    "       if (propTitle.equals(\"Alternative Name:\")) {",
    "           series.alternateName = propValue;",
    "       }",
    "       else if (propTitle.equals(\"Status:\")) {",
    "           series.complete = (propValue.equals('Completed'));",
    "       }",
    "       else if (propTitle.equals(\"Author(s):\")) {",
    "           var authorLink = property.parent().child(1);",
    "           series.author = authorLink.ownText();",
    "       }",
    "       else if (propTitle.equals(\"Artist(s):\")) {",
    "           var authorLink = property.parent().child(1);",
    "           series.artist = authorLink.ownText();",
    "       }",
    "   }",
    "   return doc.select('.detail_list a.color_0077');",
    "};"
  ],
  "fetchSeriesGenres" : [
    "function fetchSeriesGenres(doc, series) {",
    "   var genreElements = doc.select('.genretags');",
    "   var genres = [];",
    "   var propertyLabels = doc.select('.detail_topText label');",
    "   for each(var property in propertyLabels.toArray()) {",
    "       var propTitle = property.ownText();",
    "       var propValue = property.parent().ownText();",
    "       if (propTitle.equals(\"Genre(s):\")) {",
    "           for each(var genre in propValue.split(', ')) {",
    "               genres.push(genre);",
    "           }",
    "       }",
    "   }",
    "   return genres;",
    "};"
  ],
  "stubChapter" : [
    "function stubChapter(element) {",
    "   var jsChapter = new JsChapter();",
    "   jsChapter.url = element.absUrl('href');",
    "   jsChapter.name = element.ownText();",
    "   var number = element.ownText();",
    "   jsChapter.number = parseFloat(number.substring(number.lastIndexOf(' ')));",
    "   return jsChapter;",
    "};"
  ],
  "fetchChapter" : [
    "function fetchChapter(doc, chapter) {",
    "   return doc.select('.wid60').first().select('option');",
    "};"
  ],
  "stubPage" : [
    "function stubPage(element) {",
    "   var page = new JsPage();",
    "   page.url = element.absUrl('value');",
    "   page.number = parseFloat(element.text());",
    "   return page;",
    "};"
  ],
  "fetchPage" : [
    "function fetchPage(doc, page) {",
    "   return doc.select('img[src]').first().absUrl('src');",
    "};"
  ],
  "fetchNew" : [
    "function fetchNew(doc) {",
    "   var ret = [];",
    "   var rows = doc.select('.manga_updates dl');",
    "   ",
    "   for each (var row in rows.toArray()) {",
    "       var seriesElement = row.select('dt a').first();",
    "       var series = new JsSeries();",
    "       series.name = seriesElement.text();",
    "       series.url = seriesElement.absUrl('href');",
    "       ",
    "       var chapters = row.select('dd a');",
    "       for each (var chapterElement in chapters.toArray()) {",
    "           var chapter = new JsChapter();",
    "           chapter.number= chapterElement.text().replace(series.name, '');",
    "           chapter.url = chapterElement.absUrl('href');",
    "           ret.push([series, chapter]);",
    "       }",
    "   }",
    "   return ret;",
    "};"
  ]
}